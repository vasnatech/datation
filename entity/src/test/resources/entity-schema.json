{
  "meta": {
    "@schema-type": "entity",
    "@schema-version": "1",
    "created-by": "mfg",
    "created-at": "2023-05-06T03:38:26.137208715Z",
    "updated-by": "mfg",
    "updated-at": "2023-05-06T03:38:26.139413404Z",
    "ddl-schema": "ddl-schema.json"
  },
  "sec": {
    "entities": {
      "Authority": {
        "ddl-table": "authority",
        "fields": {
          "id": {
            "ddl-column": "id",
            "type": "string",
            "nullable": false
          },
          "name": {
            "ddl-column": "name",
            "type": "string",
            "nullable": false
          },
          "status": {
            "ddl-column": "status",
            "type": "character",
            "enum-values": {
              "active": "A",
              "inactive": "X",
              "pending": "P"
            },
            "nullable": false
          },
          "createdBy": {
            "ddl-column": "created_by",
            "type": "string",
            "nullable": false
          },
          "createdAt": {
            "ddl-column": "created_at",
            "type": "instant",
            "nullable": false
          },
          "updatedBy": {
            "ddl-column": "updated_by",
            "type": "string",
            "nullable": false
          },
          "updatedAt": {
            "ddl-column": "updated_at",
            "type": "instant",
            "nullable": false
          },
          "createdByUser": {
            "entity": "User",
            "ddl-table": "user",
            "ddl-foreign-key": "fk_created_by",
            "ddl-columns": {"created_by": "id"},
            "fetch": "lazy",
            "type": "entity",
            "nullable": false
          },
          "updatedByUser": {
            "entity": "User",
            "ddl-foreign-key": {
              "fk_updated_by": {
                "ddl-table": "user",
                "ddl-columns": {"updated_by": "id"}
              }
            },
            "fetch": "lazy",
            "type": "entity",
            "nullable": false
          },
          "privileges": {
            "entity": "Privilege",
            "ddl-relation-table": "authority_privilege",
            "ddl-foreign-key": {
              "fk_authority_privilege_authority": {
                "ddl-table": "authority",
                "ddl-columns": {"authority_id": "id"}
              },
              "fk_authority_privilege_privilege": {
                "ddl-table": "privilege",
                "ddl-columns": {"privilege_id": "id"}
              }
            },
            "fetch": "lazy",
            "type": "set",
            "item-type": "entity",
            "nullable": false
          }
        },
        "ids": ["id"]
      },
      "AuthorityPrivilege": {
        "ddl-table": "authority_privilege",
        "fields": {
          "authorityId": {
            "ddl-column": "authority_id",
            "type": "string",
            "nullable": true
          },
          "privilegeId": {
            "ddl-column": "privilege_id",
            "type": "string",
            "nullable": true
          },
          "authority": {
            "ddl-foreign-key": "fk_authority_privilege_authority",
            "ddl-table": "authority",
            "ddl-columns": {"authority_id": "id"},
            "fetch": "lazy",
            "type": "entity",
            "nullable": false
          },
          "privilege": {
            "ddl-foreign-key": "fk_authority_privilege_privilege",
            "ddl-table": "privilege",
            "ddl-columns": {"privilege_id": "id"},
            "fetch": "lazy",
            "type": "entity",
            "nullable": false
          }
        },
        "ids": ["authority_id", "privilege_id"]
      },
      "User": {
        "ddl-table": "user",
        "inheritance": {
          "entity": "Authority",
          "ddl-foreign-key": "fk_user_authority",
          "ddl-table": "authority",
          "ddl-columns": {"id": "id"}
        },
        "fields": {
          "id": {
            "ddl-column": "id",
            "type": "string",
            "nullable": false
          },
          "email": {
            "ddl-column": "email",
            "type": "string",
            "nullable": true
          }
        },
        "ids": ["id"]
      },
      "UserToken": {
        "ddl-table": "user_token",
        "fields": {
          "id": {
            "ddl-column": "id",
            "type": "string",
            "nullable": false
          },
          "userId": {
            "ddl-column": "user_id",
            "type": "string",
            "nullable": false
          },
          "token": {
            "ddl-column": "token",
            "type": "string",
            "nullable": false
          },
          "createdAt": {
            "ddl-column": "created_at",
            "type": "instant",
            "nullable": false
          },
          "validTill": {
            "ddl-column": "valid_till",
            "type": "instant",
            "nullable": false
          },
          "user": {
            "entity": "User",
            "ddl-foreign-key": "fk_user_token_user",
            "ddl-table": "user",
            "ddl-columns": {"user_id": "id"},
            "fetch": "eager",
            "type": "entity",
            "nullable": false
          }
        },
        "ids": ["id"]
      },
      "Role": {
        "ddl-table": "role",
        "inheritance": {
          "entity": "Authority",
          "ddl-foreign-key": "fk_role_authority",
          "ddl-table": "authority",
          "ddl-columns": {"id": "id"}
        },
        "fields": {
          "id": {
            "ddl-column": "id",
            "type": "string",
            "nullable": false
          },
          "info": {
            "ddl-column": "info",
            "type": "string",
            "nullable": true
          }
        },
        "ids": ["id"]
      },
      "Privilege": {
        "ddl-table": "privilege",
        "fields": {
          "id": {
            "ddl-column": "id",
            "type": "string",
            "nullable": false
          },
          "name": {
            "ddl-column": "name",
            "type": "string",
            "nullable": true
          },
          "info": {
            "ddl-column": "info",
            "type": "string",
            "nullable": true
          },
          "createdBy": {
            "ddl-column": "created_by",
            "type": "string",
            "nullable": false
          },
          "createdAt": {
            "ddl-column": "created_at",
            "type": "instant",
            "nullable": false
          },
          "updatedBy": {
            "ddl-column": "updated_by",
            "type": "string",
            "nullable": false
          },
          "updatedAt": {
            "ddl-column": "updated_at",
            "type": "instant",
            "nullable": false
          },
          "createdByUser": {
            "entity": "User",
            "ddl-foreign-key": "fk_created_by",
            "ddl-table": "user",
            "ddl-columns": {"created_by": "id"},
            "fetch": "lazy",
            "type": "entity",
            "nullable": false
          },
          "updatedByUser": {
            "entity": "User",
            "ddl-foreign-key": "fk_updated_by",
            "ddl-table": "user",
            "ddl-columns": {"updated_by": "id"},
            "fetch": "lazy",
            "type": "entity",
            "nullable": false
          }
        },
        "ids": ["id"]
      }
    }
  }
}
